<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>I Love You ‚ô•</title>
  <link rel="shortcut icon" href="./icon.png" type="image/x-icon">
  <link rel="stylesheet" href="main.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Cormorant+Infant:wght@300;400;500;600;700&family=Great+Vibes&family=Dancing+Script:wght@400;500;600;700&display=swap"
    rel="stylesheet">
</head>

<body>
  <!-- Entry Screen - Dramatic Reveal -->
  <div id="entry-screen">
    <div class="entry-bg"></div>
    <div class="entry-content">
      <div id="entry-heart" class="heart-pulse">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path
            d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
        </svg>
      </div>
      <h1 class="typewriter" id="typewriter-text"></h1>
      <p class="entry-hint">
        <span class="hint-icon">üëÜ</span>
        <span>Nh·∫•n v√†o tr√°i tim ƒë·ªÉ m·ªü</span>
      </p>
    </div>
  </div>

  <!-- Main Content -->
  <div id="main-content" class="hidden">
    <!-- Settings button hidden - moved to admin panel -->
    <div id="settings-btn" class="hidden">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="3" />
        <path
          d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" />
      </svg>
    </div>

    <div id="file-inputs">
      <h3 class="settings-title">T√πy ch·ªânh</h3>
      <div id="abc">
        <label for="image-input" class="custom-file-upload">
          <input type="file" id="image-input" accept="image/*" multiple>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="upload-icon">
            <rect x="3" y="3" width="18" height="18" rx="2" />
            <circle cx="8.5" cy="8.5" r="1.5" />
            <path d="M21 15l-5-5L5 21" />
          </svg>
          <span>Ch·ªçn ·∫£nh</span>
        </label>
        <label for="mp3-input" class="custom-file-upload">
          <input type="file" id="mp3-input" accept="audio/mp3">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="upload-icon">
            <path d="M9 18V5l12-2v13" />
            <circle cx="6" cy="18" r="3" />
            <circle cx="18" cy="16" r="3" />
          </svg>
          <span>Ch·ªçn nh·∫°c</span>
        </label>
      </div>
      <button id="start-button">
        <span>B·∫Øt ƒë·∫ßu</span>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="btn-icon">
          <polygon points="5 3 19 12 5 21 5 3" />
        </svg>
      </button>
    </div>

    <div id="drag-container">
      <div id="spin-container">
        <img src="./img/img1.jpg" alt="" data-index="0">
        <img src="./img/img2.jpg" alt="" data-index="1">
        <img src="./img/img3.jpg" alt="" data-index="2">
        <img src="./img/img4.jpg" alt="" data-index="3">
        <img src="./img/img5.jpg" alt="" data-index="4">
        <img src="./img/img6.jpg" alt="" data-index="5">
        <img src="./img/img7.jpg" alt="" data-index="6">

        <p>I Love You</p>
      </div>
      <div id="ground"></div>
    </div>

    <div id="music-container"></div>
    <div id="canva">
      <canvas id="canvas"></canvas>
    </div>
    <audio src="./music.mp3" autoplay loop></audio>
  </div>

  <!-- Image Modal with Message -->
  <div id="image-modal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content modal-with-message">
      <div class="modal-image-side">
        <img id="modal-image" src="" alt="">
      </div>
      <div class="modal-message-side">
        <div class="message-decoration top-left">‚ú¶</div>
        <div class="message-decoration top-right">‚ô•</div>
        <div class="message-content">
          <p id="modal-message" class="love-message"></p>
        </div>
        <div class="message-decoration bottom-left">‚ô•</div>
        <div class="message-decoration bottom-right">‚ú¶</div>
      </div>
      <button id="modal-close" class="modal-close">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18" />
          <line x1="6" y1="6" x2="18" y2="18" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Secret Message Modal -->
  <div id="secret-modal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content secret-content">
      <div class="secret-heart">üíï</div>
      <h2>B√≠ m·∫≠t nh·ªè</h2>
      <p class="secret-message">M·ªói l·∫ßn nghƒ© v·ªÅ em, tr√°i tim anh l·∫°i ƒë·∫≠p nhanh h∆°n...</p>
      <button id="secret-close" class="secret-close-btn">ƒê√≥ng l·∫°i üíù</button>
    </div>
  </div>

  <!-- Secret Admin Panel -->
  <div id="admin-panel" class="hidden">
    <div class="admin-container">
      <div class="admin-header">
        <h2 class="admin-title">
          <span class="admin-icon">üíï</span>
          Qu·∫£n l√Ω l·ªùi nh·∫Øn nh·ªß
        </h2>
        <button id="admin-close" class="admin-close-btn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 12H5M12 19l-7-7 7-7" />
          </svg>
          <span>V·ªÅ trang ch√≠nh</span>
        </button>
      </div>

      <p class="admin-hint">Qu·∫£n l√Ω b·ªô s∆∞u t·∫≠p ·∫£nh v√† l·ªùi nh·∫Øn y√™u th∆∞∆°ng c·ªßa b·∫°n</p>

      <!-- R2 Cloud Storage Config -->
      <div class="admin-config-section">
        <div class="config-header">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 10h-1.26A8 8 0 109 20h9a5 5 0 000-10z" />
          </svg>
          <h4>Cloud Storage (Cloudflare R2)</h4>
        </div>
        <div class="config-content">
          <input type="text" id="worker-url-input" placeholder="https://my-love-r2-worker.xxx.workers.dev"
            class="config-input">
          <button id="save-worker-url" class="config-save-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="20 6 9 17 4 12" />
            </svg>
          </button>
        </div>
        <p class="config-hint" id="cloud-status">Ch∆∞a c·∫•u h√¨nh - ·∫£nh ch·ªâ l∆∞u local</p>
      </div>

      <!-- Upload Section - Redesigned -->
      <div class="admin-upload-section">
        <div class="upload-section-header">
          <h3 class="upload-section-title">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2" />
              <circle cx="8.5" cy="8.5" r="1.5" />
              <path d="M21 15l-5-5L5 21" />
            </svg>
            Qu·∫£n l√Ω ·∫£nh
          </h3>
          <span class="photo-count" id="photo-count">0 ·∫£nh</span>
        </div>

        <div class="upload-actions">
          <label for="admin-add-photo" class="admin-action-btn add-btn">
            <input type="file" id="admin-add-photo" accept="image/*" multiple>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="12" y1="5" x2="12" y2="19" />
              <line x1="5" y1="12" x2="19" y2="12" />
            </svg>
            <span>Th√™m ·∫£nh</span>
          </label>

          <button id="admin-clear-all" class="admin-action-btn clear-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="3 6 5 6 21 6" />
              <path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2" />
              <line x1="10" y1="11" x2="10" y2="17" />
              <line x1="14" y1="11" x2="14" y2="17" />
            </svg>
            <span>X√≥a t·∫•t c·∫£</span>
          </button>

          <label for="admin-mp3-input" class="admin-action-btn music-btn">
            <input type="file" id="admin-mp3-input" accept="audio/mp3,audio/*">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 18V5l12-2v13" />
              <circle cx="6" cy="18" r="3" />
              <circle cx="18" cy="16" r="3" />
            </svg>
            <span>Nh·∫°c n·ªÅn</span>
          </label>
        </div>
      </div>

      <!-- Photo Grid with Controls -->
      <div class="admin-photo-grid-container">
        <div id="admin-grid" class="admin-grid">
          <!-- Photo cards will be generated by JavaScript -->
        </div>

        <!-- Empty State -->
        <div id="empty-state" class="empty-state hidden">
          <div class="empty-icon">üì∑</div>
          <h3>Ch∆∞a c√≥ ·∫£nh n√†o</h3>
          <p>Th√™m ·∫£nh ƒë·ªÉ b·∫Øt ƒë·∫ßu t·∫°o b·ªô s∆∞u t·∫≠p l√£ng m·∫°n</p>
          <label for="admin-add-photo-empty" class="empty-add-btn">
            <input type="file" id="admin-add-photo-empty" accept="image/*" multiple>
            <span>+ Th√™m ·∫£nh ƒë·∫ßu ti√™n</span>
          </label>
        </div>
      </div>

      <div class="admin-footer">
        <button id="admin-save" class="admin-save-btn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z" />
            <polyline points="17 21 17 13 7 13 7 21" />
            <polyline points="7 3 7 8 15 8" />
          </svg>
          <span>L∆∞u t·∫•t c·∫£</span>
        </button>
        <div id="save-feedback" class="save-feedback hidden">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12" />
          </svg>
          <span>ƒê√£ l∆∞u th√†nh c√¥ng!</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div id="toast" class="toast hidden">
    <span id="toast-message"></span>
  </div>

  <script src="storage.js"></script>
  <script src="particles.js"></script>
  <script src="main.js"></script>
</body>

</html>